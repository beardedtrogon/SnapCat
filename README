Initial Goals:

1. Create Training Dataset of Cats, Dogs, Rats, Birds, and nothing
2. Set aside images for testing
3. Train CNNs on dataset and test to see accuracy
4. Port to Raspberry Pi w/ webcam attached
5. Create demo/report findings to show to various organizations
6. ???
7. Save endangered species on islands

Steps:

Run this to convert to grayscale and randomly crop to 224 x 224 pixels (training images from Imagenet):

python ./scripts/preprocessing_images.py --input_dir ./training/raw_images/ --output_dir ./training/processed_images/

Run this to retrain the MobilenetV2 graph to train for "cat" vs "not cat":

python ./scripts/retrain.py --image_dir=./training/processed_images/ --output_graph=./output_graphs/output_graph.pb --output_labels=./scripts/labels.txt --intermediate_output_graphs_dir=./output_graphs/intermediate_outputs/ --intermediate_store_frequency=100 --learning_rate=0.0001 --testing_percentage=20 --validation_percentage=20 --train_batch_size=32 --validation_batch_size=-1 --random_scale=30 --random_brightness=30 --random_crop=30 --eval_step_interval=100 --how_many_training_steps=500 --tfhub_module="https://tfhub.dev/google/imagenet/mobilenet_v2_140_224/feature_vector/1"

If you're running into issues with the above script, please check the following link:

https://github.com/tensorflow/hub/issues/61

Run this to convert to grayscale and randomly crop to 224 x 224 pixels for (testing images from Imagenet):

python ./scripts/preprocessing_images.py --input_dir ./testing/raw_images/ --output_dir ./testing/processed_images/

Run this to label the testing images and output a confusion matrix:

python ./scripts/label_image.py --cat_directory ./testing/processed_images/cats/ --NC_directory ./testing/processed_images/not_cats/ --graph ./output_graphs/output_graph.pb --labels ./scripts/labels.txt --input_height 224 --input_width 224 --input_layer module_apply_default/MobilenetV2/input --output_layer final_result

SORTING:

Do some of the dirty work of segmenting the photos to be fed into the sorting script (Thanks Nate)

python ./scripts/segmentation.py --unsorted_directory ./sorting/unsorted/ --output_directory  ./sorting/blobs/

TODO: Images are still pretty big... do we need to convert to 224 x 224?

Run this to label and sort uncategorized images into the appropriate folders:

python ./scripts/label_image.py --sort true --unsorted_directory ./sorting/blobs/ --sorted_directory ./sorting/sorted/ --graph ./output_graphs/output_graph.pb --labels ./scripts/labels.txt --input_height 224 --input_width 224 --input_layer module_apply_default/MobilenetV2/input --output_layer final_result


